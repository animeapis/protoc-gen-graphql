# DO NOT EDIT! Generated by protoc-gen-graphql.

type Keeper_Query {
  getCredentials(input: GetCredentialsRequestInput!): Credentials!
  listCredentials(input: ListCredentialsRequestInput!): ListCredentialsResponse!
}

type Keeper_Mutation {
  createCredentials(input: CreateCredentialsRequestInput!): Credentials!
  deleteCredentials(input: DeleteCredentialsRequestInput!): Boolean!
  actAsCredentials(input: ActAsCredentialsRequestInput!): ActAsCredentialsResponse!
}

type OAuth2_Mutation {
  signIn(input: SignInRequestInput!): SignInResponse!
  exchange(input: ExchangeRequestInput!): ExchangeResponse!
}

"""
Credentials are persistent authentication
"""
type Credentials {
  """
  The resorce name of the credentials.
  """
  name: String!
  """
  The unique and immutable identifier of the credentials.
  """
  uid: String!
  """
  The principal of the credentialscode, usually the username.
  """
  principal: String!
  """
  Whether these credentials are active and can be used to perform requests.
  """
  active: Boolean
  """
  Which authentication method is used by the credentials.
  """
  authenticationMethod: Credentials_AuthenticationMethod!
  """
  When the credentials were last used.
  """
  lastActivityTime: DateTime
}

"""
Credentials are persistent authentication
"""
input CredentialsInput {
  """
  The resorce name of the credentials.
  """
  name: String!
}

input CreateCredentialsRequestInput {
  """
  The credentials to create.
  """
  credentials: CredentialsInput!
  """
  The credentials payload with the sensitive data.
  """
  payload: CreateCredentialsRequest_PayloadOneofInput
}

input CreateCredentialsRequest_PayloadOneofInput {
  """
  Basic authentication credentials composed by username and password.
  """
  basic: CreateCredentialsRequest_BasicInput
  """
  OAuth 2.0 authentication credentials composed by a refresh token.
  """
  oauth2: CreateCredentialsRequest_OAuth2Input
}

input CreateCredentialsRequest_BasicInput {
  username: String!
  password: String!
}

input CreateCredentialsRequest_OAuth2Input {
  principal: String
  refreshToken: String!
}

input GetCredentialsRequestInput {
  """
  The name of the credentials to retrieve.
  """
  name: String!
}

input ListCredentialsRequestInput {
  """
  The parent, which owns this collection of credentials.
  """
  parent: String!
  """
  If unspecified, server will pick an appropriate default.
  """
  pageSize: Int
  """
  The value returned from the previous call.
  """
  pageToken: String
  """
  A filter to be applied to results.
  """
  filter: String
}

type ListCredentialsResponse {
  """
  The list of credentials.
  """
  credentials: [Credentials!]!
  """
  A token to retrieve next page of results.
  """
  nextPageToken: String!
}

input DeleteCredentialsRequestInput {
  """
  The name of the credentials to delete.
  """
  name: String!
}

input ActAsCredentialsRequestInput {
  """
  The resorce name of the credentials.
  """
  name: String!
}

type ActAsCredentialsResponse {
  """
  The access token to be attached in the request headers. Only returned for
  OAuth 2.0 credentials.
  """
  accessToken: String!
  """
  The basic credentials (username and password) to be used to authenticate
  requests, as different APIs implement authentication in different ways,
  the plain basic credentials are provided as-is.
  """
  basic: ActAsCredentialsResponse_Basic
}

type ActAsCredentialsResponse_Basic {
  username: String!
  password: String!
}

input SignInRequestInput {
  """
  The resorce name of the flow.
  """
  name: String!
}

type SignInResponse {
  """
  The authorization url that the user should be redirect to for web sign-in.
  """
  authorizationUrl: String!
}

input ExchangeRequestInput {
  """
  The resorce name of the flow.
  """
  name: String!
  """
  The OAuth 2.0 code returned from the authentication flow.
  """
  code: String!
  """
  The OAuth 2.0 state returned from the authentication flow.
  """
  state: String!
}

type ExchangeResponse {
  """
  The credentials created by the authentication flow.
  """
  credentials: Credentials
}

enum Credentials_AuthenticationMethod {
  """
  The default value. This value is used if the state is omitted.
  """
  AUTHENTICATION_METHOD_UNSPECIFIED
  """
  The authentication method used is username/password.
  """
  BASIC
  """
  The authentication method used is OAuth 2.0.
  """
  OAUTH2
}
